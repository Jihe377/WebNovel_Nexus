<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Discover Novels | WebNovel_Nexus</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet"/>
  <link rel="stylesheet" href="./css/discover.css"/>
</head>
<body>

<!-- ═══════════════ NAVBAR ═══════════════ -->
<nav class="navbar navbar-expand-md sticky-top border-bottom shadow-sm bg-body">
  <div class="container-xl">
    <a class="navbar-brand fw-bold d-flex align-items-center gap-2" href="homepage.html">
      <span class="bg-primary text-white rounded-2 p-1 d-inline-flex align-items-center">
        <span class="material-symbols-outlined" style="font-size:20px">book_4</span>
      </span>
      WebNovel Nexus
    </a>
    <button class="navbar-toggler" type="button"
      data-bs-toggle="collapse" data-bs-target="#mainNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav me-auto gap-md-1 mb-2 mb-md-0">
        <li class="nav-item">
          <a class="nav-link" href="index.html">
            <span class="material-symbols-outlined align-middle" style="font-size:16px">explore</span>
            Discover
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="add.html">
            <span class="material-symbols-outlined align-middle" style="font-size:16px">add_circle</span>
            Add Novel
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="booklist.html">
            <span class="material-symbols-outlined align-middle" style="font-size:16px">bookmarks</span>
            Booklist
          </a>
        </li>
      </ul>
      <div class="d-flex gap-2 align-items-center mt-2 mt-md-0">
        <button class="btn btn-sm btn-outline-secondary" id="themeToggle" title="Toggle theme">
          <span class="material-symbols-outlined align-middle" style="font-size:18px" id="themeIcon">dark_mode</span>
        </button>
      </div>
    </div>
  </div>
</nav>


<!-- ═══════════════ MAIN ═══════════════ -->
<main class="container-xl py-4 py-md-5">
  <div class="row g-4 align-items-start">

    <!-- ── Sidebar ── -->
    <aside class="col-lg-3">
      <div class="nn-sidebar-inner">

        <!-- Search -->
        <div class="input-group mb-4">
          <span class="input-group-text">
            <span class="material-symbols-outlined" style="font-size:18px">search</span>
          </span>
          <input id="searchInput" type="text" class="form-control"
            placeholder="Search novels…" autocomplete="off"/>
        </div>

        <!-- Genre Filter -->
        <div class="card mb-3">
          <div class="card-header d-flex align-items-center gap-1 py-2">
            <span class="material-symbols-outlined text-primary" style="font-size:16px">category</span>
            <span class="fw-bold small text-primary">Genre</span>
          </div>
          <div class="card-body py-2 px-2">
            <div class="d-flex flex-wrap gap-1" id="genreFilters"></div>
          </div>
        </div>

        <!-- Include Tags -->
        <div class="card mb-3">
          <div class="card-header d-flex align-items-center gap-1 py-2">
            <span class="material-symbols-outlined text-success" style="font-size:16px">add_circle</span>
            <span class="fw-bold small text-success">Include Tags</span>
          </div>
          <div class="card-body py-3">
            <div class="d-flex flex-wrap gap-1" id="includeTags"></div>
          </div>
        </div>

        <!-- Exclude Tags -->
        <div class="card mb-3">
          <div class="card-header d-flex align-items-center gap-1 py-2">
            <span class="material-symbols-outlined text-danger" style="font-size:16px">remove_circle</span>
            <span class="fw-bold small text-danger">Exclude Tags</span>
          </div>
          <div class="card-body py-3">
            <div class="d-flex flex-wrap gap-1" id="excludeTags"></div>
          </div>
        </div>

        <!-- Active Filters -->
        <div class="card border-primary d-none" id="activeFiltersWrap">
          <div class="card-header d-flex align-items-center gap-1 py-2">
            <span class="material-symbols-outlined text-primary" style="font-size:16px">filter_list</span>
            <span class="fw-bold small text-primary">Active Filters</span>
          </div>
          <div class="card-body py-3">
            <div class="d-flex flex-wrap gap-1 mb-2" id="activeFiltersList"></div>
            <button id="clearFilters" class="btn btn-outline-secondary btn-sm w-100">
              Clear All Filters
            </button>
          </div>
        </div>

      </div>
    </aside>

    <!-- ── Content ── -->
    <div class="col-lg-9">

      <!-- Toolbar -->
      <div class="d-flex justify-content-between align-items-center mb-3">
        <small class="text-muted" id="resultsInfo">Loading novels…</small>
        <div class="d-flex align-items-center gap-2">
          <label class="small text-muted mb-0" for="limitSelect">Per page:</label>
          <select id="limitSelect" class="form-select form-select-sm" style="width:80px">
            <option value="12">12</option>
            <option value="20" selected>20</option>
            <option value="40">40</option>
          </select>
        </div>
      </div>

      <!-- Grid -->
      <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3 mb-4" id="novelGrid"></div>

      <!-- Pagination -->
      <nav aria-label="Novel pages" class="d-flex justify-content-center">
        <ul class="pagination flex-wrap" id="pagination"></ul>
      </nav>

    </div>
  </div>
</main>

<!-- FOOTER -->
<footer class="border-top bg-body-tertiary mt-5 py-4">
  <div class="container-xl text-center">
    <div class="d-flex justify-content-center align-items-center gap-2 mb-2">
      <span class="bg-primary bg-opacity-25 text-primary rounded p-1 d-inline-flex">
        <span class="material-symbols-outlined" style="font-size:18px">book_4</span>
      </span>
      <span class="fw-bold">WebNovel Nexus</span>
    </div>
    <p class="text-muted small mb-3">Explore thousands of worlds, one chapter at a time.</p>
    <p class="text-muted" style="font-size:.75rem">Created by Danyan Gu and Xing Zhou</p>
  </div>
</footer>

<!-- Toast container -->
<div class="toast-container position-fixed bottom-0 end-0 p-3" id="toastContainer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/discover.js"></script>

</body>
</html>